<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Istok+Web:wght@400;700&display=swap" rel="stylesheet">

  <title>AssistTechAI</title>
</head>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: "Istok Web", Arial, sans-serif;
    background-color: #395BD3;
  }

  nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #395BD3;
    color: #FFF;
    padding: 30px;
    margin-top: 30px;
  }

  .logo {
    margin-left: 30px;
  }

  .nav-links {
    list-style: none;
    display: flex;
    margin-right: 30px;
  }

  .nav-links li {
    margin-left: 100px;
    margin-right: 10px;
  }

  .nav-links li:first-child {
    margin-left: 0;
  }

  .logo img {
    height: 110px;
    width: auto;
  }


  .nav-links a {
    color: #FFF;
    text-decoration: none;
    position: relative;
    font-family: "Istok Web", Arial, sans-serif;
    font-size: 18px;
  }

  .nav-links a:hover {
    border-bottom: 2px solid #FFF;
  }

  .box-container {
    width: calc(100% - 100px); 
    max-width: 1600px; 
    margin: 0 auto; 
    border: 2px solid #e1e1e1;
    padding: 20px;
  }

  .box-title {
    font-size: 40px;
    font-weight: bold;
    color: #e1e1e1;
    text-align: center;
  }

  .our-service-text {
    margin-top: 10px;
    font-size: 16px;
    line-height: 1.6;
    color: #e1e1e1;
  }

  .text-fields-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 50px;
    justify-content: center;
  }

  .text-field {
    width: calc(100% - 100px); 
    max-width: 1000px; 
    margin-bottom: 50px;
    display: flex;
    font-family: "Istok Web", Arial, sans-serif;
    margin-top: 50px;
    justify-content: center;
    align-items: center;
  }

  .text-field input[type="text"] {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 15px; 
    background-color: #C0C8E6;
    font-family: "Istok Web", Arial, sans-serif;
  }

  .text-field input[type="text"]:focus {
    outline: none; 
    border-color: #ffffff;
    box-shadow: 0 0 5px #395BD3; 
  }

  .text-label {
    margin-right: 10px;
    color: #e1e1e1;
    font-size: 20px;
    font-family: "Istok Web", Arial, sans-serif;
  }
  
  .submit-button-container {
    display: flex;
    justify-content: center;
  }

  .submit-button {
    cursor: pointer;
    width: 200px;
    max-width: 100%;
  }

  .form-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 40px; 
  }

  .content-container {
    display: flex;
    justify-content: center;
    margin-top: 40px; 
    z-index: 1;
  }

  .square {
    width: 200px;
    height: 200px;
    background-color: #ccc;
    margin-bottom: 20px;
    margin-right: 20px;
    border-radius: 10px; 
    background-size: cover; 
    background-repeat: no-repeat;
    background-position: center center;
  }

  .rectangle {
    width: 500px;
    height: 800px;
    background-color: #ccc;
    border-radius: 10px; 
    background-size: 98%; 
    background-repeat: no-repeat;
    background-position: center center;
    margin-bottom: 100px;
    position: relative;
  }

  .content-text {
    margin-top: 10px;
    font-size: 16px;
    text-align: center;
  }

  @media screen and (max-width: 768px) {
    .square {
      width: 150px;
      height: 150px;
    }
  }

  @media screen and (min-width: 769px) and (max-width: 1200px) {
    .square {
      width: 175px;
      height: 175px;
    }
  }

  @media screen and (min-width: 1201px) and (max-width: 1600px) {
    .square {
      width: 200px;
      height: 200px;
    }
  }

  @media screen and (max-width: 768px) {
    .rectangle {
      width: 300px;
      height: 400px;
    }
  }

  @media screen and (min-width: 769px) and (max-width: 1200px) {
    .rectangle {
      width: 400px;
      height: 500px;
    }
  }

  @media screen and (min-width: 1201px) and (max-width: 1600px) {
    .rectangle {
      width: 500px;
      height: 600px;
    }
  }

  .download-image {
    position: absolute;
    top: 20px;
    right: 30px; 
    cursor: pointer;
  }

  .renders-text {
    text-align: center;
    font-size: 24px;
    color: #fff;
    margin-top: 20px; 
  }

  .toggle-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}

.toggle-label {
  font-size: 18px;
  color: #fff;
  margin-right: 10px;
}

.toggle-switch {
  appearance: none;
  -webkit-appearance: none;
  width: 50px;
  height: 25px;
  background-color: #0f1737;
  border-radius: 12.5px;
  position: relative;
  cursor: pointer;
  outline: none;
}

.toggle-switch::before {
  content: "";
  position: absolute;
  width: 21px;
  height: 21px;
  background-color: #fff;
  border-radius: 50%;
  left: 2px;
  top: 2px;
  transition: 0.3s;
}

.toggle-switch:checked::before {
  left: 27px;
}


.toggle-switch:checked {
  background-color: #ccc; 
}

.square.hide {
  opacity: 0;
  transform: translateY(-20px);
  /* transition: opacity 0.5s ease, transform 0.5s ease; */
}

.centered-rectangle {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1;
}

.animated-rectangle {
  width: 600px;
  height: 600px;
  transition: width 0.5s ease, height 0.5s ease;
}


</style>
<body>
  <nav>
    <div class="logo">
        <img src="HomeLogo.png" alt="Logo">
    </div>
    <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="Service.html">Service</a></li>
        <li><a href="creative.html">Create</a></li>
      </ul>
  </nav>

  <div class="box-container">
    <div class="box-title">Our Service</div>
    <div class="our-service-text">
      <p>AssistTechAI utilizes Shap-E AI to translate text descriptions into personalized 3D models, facilitating the creation of custom 3D-printable accessibility devices for individuals with disabilities. This AI-powered approach simplifies customization, providing a unique platform for disabled individuals to access and design assistive tools that cater to their specific needs. The program fosters inclusivity and independence, offering a range of tailored solutions for diverse requirements. By merging AI technology with personalization, AssistTechAI not only enhances the quality of life for people with disabilities but also empowers them to actively participate in crafting devices that make their daily routines more manageable.</p>
      <p>AssistTechAI stands as a beacon of empowerment for the disabled community. Through AI text-to-3D generation, we redefine accessibility by swiftly crafting personalized assistive devices. This distinct approach ensures tailor-made solutions, setting us apart from conventional methods. By bridging the gap between need and design, we enable quick, efficient access to devices that enhance daily life. Our AI-powered platform not only promotes independence but also cultivates a community united by the pursuit of a more inclusive future.</p>
    </div>
  </div>

    <div class="text-field">
        <span class="text-label">Mobility Aid:</span>
        <input type="text" id="mobilityAidInput">
    </div>

    <div class="submit-button-container">
        <img class="submit-button" src="serviceGenerate.png" id="generateImageButton">
    </div>
      
  </form>
</div>

<div id="rendersAndToggleContainer" style="display: none;">
    <div class="renders-text" id="rendersText">3D Renders</div>
    
    <div class="toggle-container">
      <label class="toggle-label" for="toggleSwitch"></label>
      <input type="checkbox" id="toggleSwitch" class="toggle-switch">
    </div>
  </div>

<div class="content-container">
    <div class="inner-container">
      <div class="square" id="square1"></div>
      <div class="square" id="square2"></div>
      <div class="square" id="square3"></div>
    </div>
    <div class="rectangle" id="downloadRectangle" style="height: 650px">
      <a id="downloadButton" download="rectangle_image.png">
        <img src="download.png" alt="Download" class="download-image" style="width: 20px; height: 20px;">
      </a>
    </div>
  </div>


  <script>
    const generateButton = document.getElementById('generateImageButton');
    const rendersAndToggleContainer = document.getElementById('rendersAndToggleContainer');
    const rendersText = document.getElementById('rendersText');
    const toggleSwitch = document.getElementById('toggleSwitch');
  
    generateButton.addEventListener('click', () => {
      rendersAndToggleContainer.style.display = 'block';
    });

  document.getElementById('generateImageButton').addEventListener('click', function () {
    var mobilityAidInput = document.getElementById('mobilityAidInput').value;
    var square1 = document.getElementById('square1');
    var square2 = document.getElementById('square2');
    var square3 = document.getElementById('square3');
    console.log("Submitted.")

    if (mobilityAidInput === 'Key Turner') {
      square1.style.backgroundImage = "url('carkey1.gif')";
      square2.style.backgroundImage = "url('carkey2.gif')";
      square3.style.backgroundImage = "url('carkey3.gif')";
    } else if (mobilityAidInput === 'Toothbrush Handle') {
      square1.style.backgroundImage = "url('toothBrush1.gif')";
      square2.style.backgroundImage = "url('toothBrush2.gif')";
      square3.style.backgroundImage = "url('toothBrush3.gif')";
    } else if (mobilityAidInput === 'Seatbelt Buckle Tool') {
      square1.style.backgroundImage = "url('seatbelt.gif')";
      square2.style.backgroundImage = "url('seatbelt1.gif')";
      square3.style.backgroundImage = "url('seatbelt2.gif')";
    } else {
      square1.style.backgroundImage = 'none';
      square2.style.backgroundImage = 'none';
      square3.style.backgroundImage = 'none';
    }

    console.log(mobilityAidInput);

    //Generate images !!!
    async function query(data) {
      const response = await fetch(
        "https://api-inference.huggingface.co/models/goofyai/3d_render_style_xl",
        {
          headers: { Authorization: `Bearer ${HUGGING-FACE-API-KEY}` },
          method: "POST",
          body: JSON.stringify(data),
        }
      );
      console.log("Sent data to API.");
      const result = await response.blob();
      return result;
    }
    let imageUrl = "";

    query({"inputs": `${mobilityAidInput} (3d printed assistive device)`}).then((response) => {
      console.log("Image response:", response);
      imageUrl = URL.createObjectURL(response);
      console.log("Image URL:", imageUrl);
      const imageRectangle = document.getElementById('downloadRectangle');
    });

    toggleSwitch.addEventListener('change', () => {
      const rectangle = document.querySelector('.rectangle');

      if (toggleSwitch.checked) {
        rendersText.textContent = 'Images';
        document.querySelectorAll('.square').forEach((square) => {
          square.classList.add('hide');
        });
        rectangle.classList.add('centered-rectangle', 'animated-rectangle');
        rectangle.style.backgroundImage = 'url(' + imageUrl + ')';
      } else {
        rendersText.textContent = '3D Renders';
        document.querySelectorAll('.square').forEach((square) => {
          square.classList.remove('hide');
        });
        rectangle.classList.remove('centered-rectangle', 'animated-rectangle');
        rectangle.style.backgroundImage = 'none';
      }
    });
  });

  

  var selectedSquare = null; 

  document.querySelectorAll('.square').forEach(function(square) {
    square.addEventListener('click', function() {
      // Store the clicked square
      selectedSquare = square;

      // Update rectangle background
      var imageUrl = square.style.backgroundImage;
      var rectangle = document.querySelector('.rectangle');
      rectangle.style.backgroundImage = imageUrl;
      rectangle.style.backgroundColor = 'black';
    });
  });

  document.getElementById('generateImageButton').addEventListener('click', function () {
    var mobilityAidInput = document.getElementById('mobilityAidInput').value;
    var imageUrl = '';

    if (mobilityAidInput === 'Key Turner') {
      imageUrl = "url('carkey1.gif')";
    } else if (mobilityAidInput === 'Toothbrush Handle') {
      imageUrl = "url('toothBrush1.gif')";
    } else if (mobilityAidInput === 'Seatbelt Buckle Tool') {
      imageUrl = "url('seatbelt.gif')";
    }

    // Changes the background images of all squares if a square is selected
    if (selectedSquare) {
      selectedSquare.style.backgroundImage = imageUrl;
      var rectangle = document.querySelector('.rectangle');
      rectangle.style.backgroundImage = imageUrl;
      rectangle.style.backgroundColor = 'black';
    }
  });

  document.getElementById('downloadButton').addEventListener('click', function() {
    var rectangle = document.querySelector('.rectangle');
    var backgroundImage = rectangle.style.backgroundImage;

    // Extract the image URL from the "url('...')" format
    var imageUrl = backgroundImage.match(/url\(['"]?(.*?)['"]?\)/i);
    if (imageUrl && imageUrl.length > 1) {
      imageUrl = imageUrl[1];

      var downloadLink = document.createElement('a');
      downloadLink.href = imageUrl;
      downloadLink.download = 'downloaded_image.png'; 
      downloadLink.target = '_blank';

      if (document.createEvent) {
        var event = document.createEvent('MouseEvents');
        event.initEvent('click', true, true);
        downloadLink.dispatchEvent(event);
      } else if (downloadLink.click) {
        downloadLink.click();
      }
    }
  });

  

</script>
  

</body>
</html>
